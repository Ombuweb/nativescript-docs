<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Development Workflow :: NativeScript Documentation</title>
    <link rel="canonical" href="http://localhost:3000/basics/development-workflow.html">
    <link rel="prev" href="environment-setup.html">
    <link rel="next" href="understanding-packages.html">
    <meta name="generator" content="Antora 3.0.2">

  <link id="theme" rel="stylesheet" title="Default" href="../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../_/css/dark-site.css">

    <script>var uiRootPath = '../_'</script>
    <script src="../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>

<link rel="icon" href="../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href=".." class="lisk-logo"></a>
        <a href=".." class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="http://localhost:3000">NativeScript Documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">APIs</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../xxx/api-ref.html">NativeScript API</a>
<!--
add more items here if needed
-->
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Plugins</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://nativescript.com" target="_blank">NativeScript Plugins</a>
<!--
add more items here if needed
-->
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../index.html">NativeScript Documentation</a>
<!--
  add more items here if needed
-->
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other documentations">NativeScript Documentation</button>
    <div class="component-menu">
        <a class="component is-current" href="../index.html">NativeScript Documentation</a>
    </div>
  </div>
    <span></span>
      </div>
  <span></span>
  <span></span>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">NativeScript Documentation</a></li>
    <li>Basics</li>
    <li><a href="development-workflow.html">Development Workflow</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/ohmynuts/Documents/GitHub/nativescript-docs//docs/modules/ROOT/pages/basics/development-workflow.adoc"><img class="pencil">Edit this Page</a></div>
</div>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">NativeScript Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Basics</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Nativescript Basics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="environment-setup.html">Environment Setup</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="development-workflow.html">Development Workflow</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="understanding-packages.html">Understanding @nativescript</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle"></button>
        <span>
    <a class="nav-link" href="tutorial/index.html">Tutorials</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tutorial/angular.html">Angular Tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tutorial/react.html">React Tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tutorial/vue.html">Vue Tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tutorial/svelte.html">Svelte Tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tutorial/plain.html">Plain Tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Running and building</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../running-and-building/webpack.html">Webpack</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UI and Styling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ui-and-styling/app-resources.html">Understanding App_Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ui-and-styling/ui-and-styling.html">UI &amp; Styling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ui-and-styling/interaction.html">Interaction</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Networking</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/http.html">Http</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../networking/connectivity.html">Connectivity</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Scalability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scalability/code-sharing.html">Code Sharing</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Native API Access</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../native-api-access/access-and-use.html">Accessing Native Platform APIs</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../advanced-concepts/advanced-concepts.html">Advanced Concepts</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Distribution</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#distribution/releasing.adoc">distribution/releasing.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Troubleshooting</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/troubleshooting.html">Troubleshooting Common Issues</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">NativeScript Documentation</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">NativeScript Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Development Workflow</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The development workflow starts with the <a href="https://www.npmjs.com/package/nativescript">NativeScript CLI</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-basics"><a class="anchor" href="#cli-basics"></a>CLI Basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this article, you&#8217;re going to learn the basics of the NativeScript command-line interface, including how to create new apps, how to get those apps running on devices, and how to set up a development workflow that lets you iterate fast.</p>
</div>
<div class="sect2">
<h3 id="create"><a class="anchor" href="#create"></a><code>create</code></h3>
<div class="paragraph">
<p>Open your terminal and run the following command to create a new NativeScript application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns create</code></pre>
</div>
</div>
<div class="paragraph">
<p>The NS CLI will walk you through selecting a template using interactive prompts.</p>
</div>
<div class="paragraph">
<p>You can also use the <code>--template</code> flag with the <code>ns create</code> command to target a specific template</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns create HelloWorld --template @nativescript/template-hello-world-ts</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here you&#8217;re passing two things to the <code>create</code> command: <code>HelloWorld</code> which determines the name of the app you are creating, and the <code>--template</code> option, which tells the NativeScript CLI to scaffold an app using a predefined template named &#8220;@nativescript/template-hello-world-ts&#8221; found <a href="https://github.com/NativeScript/nativescript-app-templates/tree/master/packages/template-hello-world-ts">here</a></p>
</div>
<div class="paragraph">
<p>For a full list of the templates you can use, see the <a href="https://github.com/NativeScript/nativescript-app-templates/tree/master/packages">full list here</a></p>
</div>
<div class="paragraph">
<p>The <code>create</code> command will take a minute to complete, as the NativeScript CLI needs to download a few dependencies while setting up your new app.</p>
</div>
</div>
<div class="sect2">
<h3 id="clean"><a class="anchor" href="#clean"></a><code>clean</code></h3>
<div class="paragraph">
<p>This command will clean your NativeScript project. It will delete the <code>node_modules</code>, <code>hooks</code>, and <code>platforms</code> directories from your project. These directories sometime need a clean slate during development of native applications. It is similar to running "Clean Build Folder" in XCode or other IDE environments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns clean</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re having trouble running your application or you have added new dependencies, it&#8217;s usually a good practice to start with <code>ns clean</code> before running to be sure you avoid any type of dependency issues or native project build issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="run"><a class="anchor" href="#run"></a><code>run</code></h3>
<div class="paragraph">
<p>Runs your project on all connected devices or in native emulators for the selected platform. The command will prepare, build and deploy the app when necessary. By default listens for changes in your code, synchronizes those changes and refreshes all selected devices.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns run android</code></pre>
</div>
</div>
<div class="paragraph">
<p>Launches the app on a connected Android device or Android emulator.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>warning Note
If you get an error at this point you might not have completed the full NativeScript CLI setup.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You must have at least one AVD (Android Virtual Device) configured on your development machine for this command to run your app up on an Android emulator.
Or a connected Android device with debugging enabled.</p>
</div>
<div class="paragraph">
<p>Check the <code>devDependencies</code> of your <code>package.json</code> file. <code>@nativescript/android</code> must be installed to avoid the "<a href="https://github.com/NativeScript/nativescript-cli/issues/4451">Unable to apply changes on device: emulator-5554. Error is: Invalid Version: null.</a>" error.
:::</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns run ios</code></pre>
</div>
</div>
<div class="paragraph">
<p>Launches the app on a connected iOS device or iOS simulator.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Note
NativeScript uses Xcode to build and run iOS apps, and Xcode is only available on macOS; therefore, you can only run iOS apps on macOS. There are VM and/or cloud services that allow you to build on a Mac from a PC.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>The <code>run</code> command will take a few seconds to complete, as the CLI will be building and deploying a native Android application. When the command finishes the native emulator will open, and launch your app on the local emulator (or connected device).</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You can customize the <code>ns run</code> command using any of the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--no-hmr</code> - Disables the webpack HMR option, so changes made during a session will restart the application.</p>
</li>
<li>
<p><code>--emulator</code> - Specifies that you want to debug the app in an emulator.</p>
</li>
<li>
<p><code>--timeout</code> - Sets the number of seconds that the NativeScript CLI will wait for the debugger to boot. If not set, the default timeout is 90 seconds.</p>
</li>
<li>
<p><code>--clean</code> - If set forces rebuilding the native application.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Note
If you see this output in the terminal:</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Webpack compilation complete. Watching for file changes.
Watchpack Error (watcher): Error: EMFILE: too many open files 'FILE_PATH'
Watchpack Error (watcher): Error: EMFILE: too many open files 'FILE_PATH'
Watchpack Error (watcher): Error: EMFILE: too many open files 'FILE_PATH' &lt;-- This repeats many times</pre>
</div>
</div>
<div class="paragraph">
<p>This is related to node configuration options on your machine.</p>
</div>
<div class="paragraph">
<p><strong>Solution</strong>:</p>
</div>
<div class="paragraph">
<p>Try adding this to your <code>~/.bash_profile</code> if you have one or <code>~/.zshenv</code> if using Zsh:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>export NODE_OPTIONS="--max-old-space-size=6096"</pre>
</div>
</div>
<div class="paragraph">
<p>Then open a new terminal window and run your app.
:::</p>
</div>
</div>
<div class="sect2">
<h3 id="debug"><a class="anchor" href="#debug"></a><code>debug</code></h3>
<div class="paragraph">
<p>The <code>debug</code> command builds and deploys a new package on a connected device or emulator. By default, it also starts to track for changes the <code>app</code> folder, meaning that it will automatically livesync changes in code as soon as they are saved. In order to apply the changes, the CLI will automatically restart the application after each sync.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Note
Changes inside <code>App_Resources</code> folder (e.g. <code>AndroidManifest.xml</code>, <code>Info.plist</code> or any of the resources folders) trigger a rebuild after which live syncing is resumed.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>For security reasons, the debugging agent <strong>can&#8217;t be started automatically</strong> from the command-line. That&#8217;s why NativeScript CLI generates a URL which is printed on the screen instead. <strong>You need to manually copy it in Google Chrome&#8217;s address bar to start debugging.</strong></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To start the debugger for Android, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns debug android</code></pre>
</div>
</div>
<div class="paragraph">
<p>To start the debugger for iOS, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns debug ios</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can customize the <code>ns debug</code> command using any of the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--debug-brk</code> - Prepares, builds and deploys the application package on a device or in an emulator, and stops at the first JavaScript line until either the debugger frontend connects or a 30 seconds timeout elapses.</p>
</li>
<li>
<p><code>--start</code> - Attaches the debug tools to a deployed and running app.</p>
</li>
<li>
<p><code>--emulator</code> - Specifies that you want to debug the app in an emulator.</p>
</li>
<li>
<p><code>--timeout</code> - Sets the number of seconds that the NativeScript CLI will wait for the debugger to boot. If not set, the default timeout is 90 seconds.</p>
</li>
<li>
<p><code>--no-watch</code> - If set, changes in your code will not be livesynced.</p>
</li>
<li>
<p><code>--clean</code> - If set forces rebuilding the native application.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="ios-specific-options"><a class="anchor" href="#ios-specific-options"></a>iOS specific options</h4>
<div class="ulist">
<ul>
<li>
<p><code>--inspector</code> - Flag to use the embedded Webkit Web Inspector debugger (default is Chrome DevTools).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about Android debugging, run any of the following commands:</p>
</div>
<div class="paragraph">
<p><code>ns help debug android</code> or <code>ns debug android --help</code></p>
</div>
<div class="paragraph">
<p>For more information about iOS debugging, run any the following commands:</p>
</div>
<div class="paragraph">
<p><code>ns help debug ios</code> or <code>ns debug ios --help</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="help"><a class="anchor" href="#help"></a><code>help</code></h3>
<div class="paragraph">
<p>Executing the following command in your terminal will open the CLI&#8217;s documentation in your web browser.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns help</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debugging"><a class="anchor" href="#debugging"></a>Debugging</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="visual-studio-code"><a class="anchor" href="#visual-studio-code"></a>Visual Studio Code</h3>
<div class="paragraph">
<p>To debug NativeScript applications in <a href="https://code.visualstudio.com/">Visual Studio Code</a>, you need the <a href="https://marketplace.visualstudio.com/items?itemName=Telerik.nativescript">NativeScript extension for VS Code</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="chrome-devtools"><a class="anchor" href="#chrome-devtools"></a>Chrome DevTools</h3>
<div class="paragraph">
<p>Debugging Android and iOS applications with Chrome by executing <code>ns debug &lt;android | ios&gt;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="console"><a class="anchor" href="#console"></a>console</h3>
<div class="paragraph">
<p>One of the most natural things you can do to debug apps in any environment is writing to the system&#8217;s log. In NativeScript logging works a lot as it does on the web, as most of the same <code>console</code> APIs that work on the web also work in NativeScript.</p>
</div>
<div class="paragraph">
<p>The <code>console.log()</code> function is great for outputting primitive values such as strings, numbers, and booleans, but it doesn&#8217;t work so well for objects. For those situations you&#8217;ll want to use another of the <code>console</code> object&#8217;s methods intended for complex object output: <code>console.dir()</code>.</p>
</div>
<div class="paragraph">
<p>To see this in action add a <code>console.log()</code> in your app code, which uses <code>console.log()</code> to log a simple object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">export function pageLoaded = () =&gt; {
    console.log({
      type: "Apple",
      color: "Red"
    });
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you look at your console, you&#8217;ll see the following not-very-helpful output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">JS: [object Object]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now replace the <code>console.log</code> reference with <code>console.dir</code>. After the NativeScript CLI refreshes your app, you should see the full output of the object in your terminal or command prompt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">JS: === dump(): dumping members ===
JS: {
JS:     "type": "Apple",
JS:     "color": "Red"
JS: }
JS: === dump(): dumping function and properties names ===
JS: === dump(): finished ===</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-on-virtual-device"><a class="anchor" href="#running-on-virtual-device"></a>Running on Virtual Device</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="android-emulators"><a class="anchor" href="#android-emulators"></a>Android Emulators</h3>
<div class="paragraph">
<p>Apart from using real Android devices, a viable option is to download, install and use an Android emulator.
In NativeScript, we can use all Android emulators that are connected and recognized by the <code>ns device</code> command.</p>
</div>
<div class="paragraph">
<p>Example output from <code>ns device</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">$ ns device
$:
Connected devices &amp; emulators
Searching for devices...
┌───┬─────────────────────────┬──────────┬───────────────────┬──────────┬───────────┐
│ # │ Device Name             │ Platform │ Device Identifier │ Type     │ Status    │
│ 1 │ sdk_google_phone_x86_64 │ Android  │ emulator-5554     │ Emulator │ Connected │
│ 2 │ bullhead                │ Android  │ 00d3e1311075c66f  │ Device   │ Connected │
└───┴─────────────────────────┴──────────┴───────────────────┴──────────┴───────────┘</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Tip
Sometimes emulators take longer to start. As a recommendation and to avoid timing issues, start the emulator before executing other CLI commands. Once the emulator is started, leave it open to avoid the initial load time the next time you need to deploy an Android application.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>==== Creating Android Virtual Device via Android Studio</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Follow the official documentation on <a href="https://developer.android.com/studio/run/managing-avds.html">Creating and Managing Virtual Devices</a>, where the process of downloading, setting up, and using Android Emulators via Android Studio is covered.</p>
</div>
<div class="sect3">
<h4 id="creating-android-virtual-device-via-command-line-tool"><a class="anchor" href="#creating-android-virtual-device-via-command-line-tool"></a>Creating Android Virtual Device via command line tool</h4>
<div class="paragraph">
<p>The <code>avdmanager</code> is a tool that allows you to create and manage Android Virtual Devices (AVDs) from the command line. The <code>avdmanager</code> is provided in the Android SDK Tools package (25.3.0 and higher) and is located in <code>&lt;ANDROID_HOME_PATH_HERE&gt;/cmdline-tools/latest/bin/</code>. For more information about the avdmanager and how to use it to create AVDs, see the <a href="https://developer.android.com/studio/command-line/avdmanager">official avdmanager documentation</a>.</p>
</div>
<div class="paragraph">
<p>Command syntax to create new AVD</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">cd $ANDROID_HOME/cmdline-tools/latest/bin
avdmanager create avd -n name -k "sdk_id" [-c {path|size}] [-f] [-p path]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You must provide a name for the AVD and specify the ID of the SDK package to use for the AVD using sdk_id wrapped in quotes.
For example, the following command creates an AVD named <code>test</code> using the x86 system image for API level 25:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">avdmanager create avd -n test -k "system-images;android-25;google_apis;x86"</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>warning Note
The above command suggest that the system image is already downloaded. To download an image use the <code>sdkmanager</code>. For example <code>sdkmanager "system-images;android-25;google_apis;x86"</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>The following describes the usages for the other options:
-c {path|size}: The path to the SD card image for this AVD or the size of a new SD card image to create for this AVD, in KB or MB, denoted with K or M. For example, -c path/to/sdcard/ or -c 1000M.
-f: Force creation of the AVD. Use this option if you need to overwrite an existing AVD with a new AVD using the same name.
-p path: Path to the location where the directory for this AVD&#8217;s files will be created. If you do not specify a path, the AVD will be created in ~/.android/avd/.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To list all the downloaded system images use the <code>list</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">avdmanager list</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using-third-party-emulators"><a class="anchor" href="#using-third-party-emulators"></a>Using third-party emulators</h4>
<div class="paragraph">
<p>An applicable option is to use third-party emulators (like <strong>GenyMotion</strong>).
Visit the official sites for details on how to install and use these emulators.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.genymotion.com">GenyMotion official site</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ios-simulators"><a class="anchor" href="#ios-simulators"></a>iOS Simulators</h3>
<div class="sect3">
<h4 id="creating-ios-simulators"><a class="anchor" href="#creating-ios-simulators"></a>Creating iOS Simulators</h4>
<div class="paragraph">
<p>The iOS simulator emulates iOS devices on Macs. The following documentation is a quick way to get the iOS simulator set up. For more information, see <a href="https://developer.apple.com/library/archive/documentation/IDEs/Conceptual/simulator_help_topics/Chapter/Chapter.html">Apple&#8217;s documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-on-ios-simualators"><a class="anchor" href="#running-on-ios-simualators"></a>Running on iOS Simualators</h4>
<div class="paragraph">
<p>On a mac if you have XCode installed with the proper tools, executing <code>ns run ios</code> from your terminal will launch the Simulator program with a default device. Alternatively, you can open the Simulator program on your mac, select which device(s) you want to open by navigating to <code>File -&gt; Open Simulator</code> and choosing the device to launch. Then execute <code>ns run ios</code> and the NativeScript app will launch on the open simulator(s).</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-on-physical-device"><a class="anchor" href="#running-on-physical-device"></a>Running on Physical Device</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="android-devices"><a class="anchor" href="#android-devices"></a>Android Devices</h3>
<hr>
<div class="sect3">
<h4 id="enable-debugging-over-usb"><a class="anchor" href="#enable-debugging-over-usb"></a>Enable Debugging over USB</h4>
<div class="paragraph">
<p>Most Android devices can only install and run apps downloaded from Google Play, by default. You will need to enable USB Debugging on your device in order to install your app during development.</p>
</div>
<div class="paragraph">
<p>To enable USB debugging on your device, you will first need to enable the "Developer options" menu by going to Settings → About phone → Software information and then tapping the Build number row at the bottom seven times. You can then go back to Settings → Developer options to enable "USB debugging".</p>
</div>
</div>
<div class="sect3">
<h4 id="plug-in-your-device-via-usb"><a class="anchor" href="#plug-in-your-device-via-usb"></a>Plug in your device via USB</h4>
<div class="paragraph">
<p>Let&#8217;s now set up an Android device to run our NativeScript projects. Go ahead and plug in your device via USB to your development machine.</p>
</div>
<div class="paragraph">
<p>Now check that your device is properly connecting to ADB, the Android Debug Bridge, by running adb devices.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">adb devices</code></pre>
</div>
</div>
<div class="paragraph">
<p>The device should be listed. See the full <a href="https://developer.android.com/studio/command-line/adb">adb documentation</a> for troubleshooting and detailed information.</p>
</div>
</div>
<div class="sect3">
<h4 id="run-your-app"><a class="anchor" href="#run-your-app"></a>Run your app</h4>
<div class="paragraph">
<p>Type the following in your command prompt to install and launch your app on the device:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns run android</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ios-devices"><a class="anchor" href="#ios-devices"></a>iOS Devices</h3>
<hr>
<div class="sect3">
<h4 id="plug-in-your-device-via-usb-2"><a class="anchor" href="#plug-in-your-device-via-usb-2"></a>Plug in your device via USB</h4>
<div class="paragraph">
<p>Connect your iOS device to your Mac using a USB to Lightning cable. Navigate to the <code>ios</code> folder in your project under <code>platforms</code>, then open the <code>.xcodeproj</code> file, or if you are using CocoaPods open <code>.xcworkspace</code>, within it using Xcode.</p>
</div>
<div class="paragraph">
<p>If this is your first time running an app on your iOS device, you may need to register your device for development. Open the Product menu from Xcode&#8217;s menubar, then go to Destination. Look for and select your device from the list. Xcode will then register your device for development.</p>
</div>
</div>
<div class="sect3">
<h4 id="configure-code-signing"><a class="anchor" href="#configure-code-signing"></a>Configure code signing</h4>
<div class="paragraph">
<p>Register for an Apple developer account if you don&#8217;t have one yet.</p>
</div>
<div class="paragraph">
<p>Select your project in the Xcode Project Navigator, then select your main target (it should share the same name as your project). Look for the "General" tab. Go to "Signing" and make sure your Apple developer account or team is selected under the Team dropdown. Do the same for the tests target (it ends with Tests, and is below your main target).</p>
</div>
</div>
<div class="sect3">
<h4 id="run-your-app-2"><a class="anchor" href="#run-your-app-2"></a>Run your app</h4>
<div class="paragraph">
<p>If the device is now registered with your developer account you should be able to run your NativeScript app on the device. Execute the following from your terminal to run the app from the CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns run ios</code></pre>
</div>
</div>
<div class="paragraph">
<p>The app should install and launch on the connected iOS device.</p>
</div>
<div class="paragraph">
<p>Alternatively, once you have the NativeScript project built, you can open open the native project inside XCode by opening the <code>.xcworkspace</code> or <code>.xcproject</code> file from XCode&#8217;s menu and then running on a connected device or simulator.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hmr"><a class="anchor" href="#hmr"></a>HMR</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="anchor" href="#testing"></a>Testing</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>warning Note
Be sure you have prepare/built/run the app at least once before starting the unit test runner.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>For more information about end-to-end testing, see <a href="/plugins/detox.html"><code>@nativescript/detox</code> plugin</a>.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When you develop new features inside your app, you can ensure that they are working properly and that past functionality has not regressed by writing and executing unit tests on a regular basis. With the NativeScript CLI, you can write and execute unit tests using <a href="http://jasmine.github.io/">Jasmine</a>, <a href="https://mochajs.org/">Mocha</a> with <a href="http://chaijs.com/">Chai</a> or <a href="https://qunitjs.com/">QUnit</a>.</p>
</div>
<div class="paragraph">
<p>To run your unit tests, the NativeScript CLI uses <a href="http://karma-runner.github.io/latest/index.html">Karma</a>.</p>
</div>
<div class="sect2">
<h3 id="before-you-begin"><a class="anchor" href="#before-you-begin"></a>Before You Begin</h3>
<div class="paragraph">
<p>Before writing and running unit tests, verify that you have completed the following steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="environment-setup">Install and configure the NativeScript CLI on your system.</a></p>
</li>
<li>
<p>If you don&#8217;t have any projects, create a new project and navigate to the directory of the newly created directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns create projectName
cd projectName</code></pre>
</div>
</div>
</li>
<li>
<p>If you want to create tests for an existing directory, navigate to the directory of the project.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">cd existingProjectDirectory</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>:::tip Note</p>
</div>
<div class="paragraph">
<p>You don&#8217;t need to explicitly add the platforms for which you want to test your project. The NativeScript CLI will configure your project when you begin to run your tests.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>=== Configure Your Project</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The NativeScript CLI lets you choose between three widely popular unit testing frameworks: <a href="http://jasmine.github.io/">Jasmine</a>, <a href="https://mochajs.org/">Mocha</a> with <a href="http://chaijs.com/">Chai</a> and <a href="https://qunitjs.com/">QUnit</a>. You need to configure the project for unit testing by choosing a framework. You can use only one framework at a time.</p>
</div>
<div class="paragraph">
<p>To initialize your project for unit testing, run the following command and, when prompted, use the keyboard arrows to select the framework that you want to use.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test init</code></pre>
</div>
</div>
<div class="paragraph">
<p>This operation applies the following changes to your project.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It creates the <code>app/tests</code> directory. You need to store all tests in this directory. This directory is excluded from release builds.</p>
</li>
<li>
<p>It creates an <code>example.js</code> file in the <code>app/tests</code> directory. This sample test illustrates the basic syntax for the selected framework.</p>
</li>
<li>
<p>It installs the nativescript-unit-test-runner npm module for the selected framework and its dev dependencies in <code>node_modules</code>.</p>
</li>
<li>
<p>It creates <code>karma.conf.js</code> in the root of your project. This file contains the default configuration for the Karma server for the selected framework.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>:::tip Note</p>
</div>
<div class="paragraph">
<p>To enable and write unit tests for TypeScript or Angular project install the TypeScript typings for the selected testing framework.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm i @types/jasmine --save-dev</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm i @types/mocha --save-dev</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm i @types/qunit --save-dev</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="write-your-tests"><a class="anchor" href="#write-your-tests"></a>Write Your Tests</h3>
<div class="paragraph">
<p>With the NativeScript CLI, you can extensively test <strong>all JavaScript-related functionality</strong>. You cannot test styling and UI which are not applied or created via JavaScript.</p>
</div>
<div class="paragraph">
<p>When creating tests for a new or existing functionality, keep in mind the following specifics.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You need to create your tests as JavaScript files in the <code>app/tests</code> directory. The NativeScript CLI recognizes JavaScript files stored in <code>app/tests</code> as unit tests.</p>
</li>
<li>
<p>You need to write tests which comply with the testing framework specification you have chosen for the project.</p>
</li>
<li>
<p>You need to export the functionality that you want to test in the code of your NativeScript project.</p>
</li>
<li>
<p>You need to require the module which exposes the functionality that you want to test in the code of your unit tests.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When creating tests for a new or existing functionality, keep in mind the following limitations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You cannot require the file or module in which <code>application.start()</code> is called.</p>
</li>
<li>
<p>You cannot use more than one testing framework per project.</p>
</li>
<li>
<p>You cannot test styling and UI which are not applied or created via JavaScript.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following samples test the initial value of the counter and the message in the Hello World template. These tests show the specifics and limitations outlined above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">var mainViewModel = require('../main-view-model') //Require the main view model to expose the functionality inside it.

describe('Hello World Sample Test:', function () {
  it('Check counter.', function () {
    expect(mainViewModel.createViewModel().counter).toEqual(42) //Check if the counter equals 42.
  })
  it('Check message.', function () {
    expect(mainViewModel.createViewModel().message).toBe('42 taps left') //Check if the message is "42 taps left".
  })
})</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">// (Angular w/TypeScript)
// As our intention is to test an Angular component that contains annotations
// we need to include the reflect-metadata dependency.
import 'reflect-metadata'

// A sample Jasmine test
describe('A suite', function () {
  it('contains spec with an expectation', function () {
    expect(true).toBe(true)
  })
})</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">var mainViewModel = require('../main-view-model') //Require the main view model to expose the functionality inside it.

describe('Hello World Sample Test:', function () {
  it('Counter should be 42 on start.', function () {
    assert.equal(mainViewModel.createViewModel().counter, 42) //Assert that the counter equals 42.
  })
  it('Message should be "42 taps left" on start.', function () {
    assert.equal(mainViewModel.createViewModel().message, '42 taps left') //Assert that the message is "42 taps left".
  })
})</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">var mainViewModel = require('../main-view-model') //Require the main view model to expose the functionality inside it.

QUnit.test('Hello World Sample Test:', function (assert) {
  assert.equal(
    mainViewModel.createViewModel().counter,
    42,
    'Counter, 42; equal succeeds.'
  ) //Assert that the counter equals 42.
  assert.equal(
    mainViewModel.createViewModel().message,
    '42 taps left',
    'Message, 42 taps left; equal succeeds.'
  ) //Assert that the message is "42 taps left".
})</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="angular-testbed-integration"><a class="anchor" href="#angular-testbed-integration"></a>Angular TestBed Integration</h3>
<div class="paragraph">
<p>To use TestBed you have to alter your <code>karma.conf.js</code> to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">    // list of files / patterns to load in the browser
    files: [
      'src/tests/setup.ts',
      'src/tests/**/*.spec.ts'
    ],</code></pre>
</div>
</div>
<div class="paragraph">
<p>The file <code>src/tests/setup.ts</code> should look like this for jasmine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">import 'nativescript-angular/zone-js/testing.jasmine'
import { nsTestBedInit } from 'nativescript-angular/testing'
nsTestBedInit()</code></pre>
</div>
</div>
<div class="paragraph">
<p>or if using mocha:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">import 'nativescript-angular/zone-js/testing.mocha'
import { nsTestBedInit } from 'nativescript-angular/testing'
nsTestBedInit()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can use it within the spec files, e.g. <code>example.spec.ts</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">import { Component, ElementRef, NgZone, Renderer2 } from '@angular/core';
import { ComponentFixture, async } from '@angular/core/testing';
import { StackLayout } from '@nativescript/core';
import {
    nsTestBedAfterEach,
    nsTestBedBeforeEach,
    nsTestBedRender
} from 'nativescript-angular/testing';

@Component({
    template: `
        &lt;StackLayout&gt;&lt;Label text="Layout"&gt;&lt;/Label&gt;&lt;/StackLayout&gt;
    `
})
export class ZonedRenderer {
    constructor(public elementRef: ElementRef, public renderer: Renderer2) {}
}

describe('Renderer E2E', () =&gt; {
    beforeEach(nsTestBedBeforeEach([ZonedRenderer]));
    afterEach(nsTestBedAfterEach(false));
    afterAll(() =&gt; {});

    it('executes events inside NgZone when listen is called outside NgZone', async(() =&gt; {
        const eventName = 'someEvent';
        const view = new StackLayout();
        const eventArg = { eventName, object: view };
        const callback = arg =&gt; {
            expect(arg).toEqual(eventArg);
            expect(NgZone.isInAngularZone()).toBeTruthy();
        };
        nsTestBedRender(ZonedRenderer).then(
            (fixture: ComponentFixture&lt;ZonedRenderer&gt;) =&gt; {
                fixture.ngZone.runOutsideAngular(() =&gt; {
                    fixture.componentInstance.renderer.listen(
                        view,
                        eventName,
                        callback
                    );

                    view.notify(eventArg);
                });
            }
        );
    }));
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run-your-tests"><a class="anchor" href="#run-your-tests"></a>Run Your Tests</h3>
<div class="paragraph">
<p>After you have completed your test suite, you can run it on physical devices or in the native emulators.</p>
</div>
<div class="sect3">
<h4 id="requirements"><a class="anchor" href="#requirements"></a>Requirements</h4>
<div class="paragraph">
<p>Before running your tests, verify that your development machine and your testing devices meet the following prerequisites.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Android native emulators on which you want to run your tests must be running on your development machine. To verify that your machine recognizes the devices, run the following command.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns device</code></pre>
</div>
</div>
</li>
<li>
<p>The physical devices on which you want to run your tests must be connected to your development machine. To verify that your machine recognizes the devices, run the following command.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns device</code></pre>
</div>
</div>
</li>
<li>
<p>The physical devices on which you want to run your tests must be able to resolve the IP of your development machine. To verify that the device can access the Karma server, connect the device and the development machine to the same Wi-Fi network or establish USB or Bluetooth tethering between the device and the development machine.</p>
</li>
<li>
<p>Port 9876 must be allowed on your development machine. The Karma server uses this port to communicate with the testing device.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="run-the-tests"><a class="anchor" href="#run-the-tests"></a>Run the Tests</h4>
<div class="paragraph">
<p>To execute your test suite on any connected Android devices or running Android emulators, run the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test android</code></pre>
</div>
</div>
<div class="paragraph">
<p>To execute your test suite on connected iOS devices, run the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test ios</code></pre>
</div>
</div>
<div class="paragraph">
<p>To execute your test suite in the iOS Simulator, run the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test ios --emulator</code></pre>
</div>
</div>
<div class="paragraph">
<p>To execute your test suite in CI make sure to add <code>--justlaunch</code>. This parameter will exit the simulator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test ios --emulator --justlaunch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each execution of <code>ns test</code> consists of the following steps, performed automatically.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The CLI starts a Karma server on the development machine.</p>
</li>
<li>
<p>The CLI prepares, builds and deploys your project, if not already deployed. If already deployed, the CLI synchronizes changes to the application package.</p>
</li>
<li>
<p>The CLI embeds the NativeScript unit test runner and your host network and Karma configuration in the deployed package.</p>
</li>
<li>
<p>The CLI launches the main module of the NativeScript unit test runner instead of launching the main module of your app.</p>
</li>
<li>
<p>The NativeScript unit test runner uses the embedded network configuration to try to connect to the Karma server on the development machine.</p>
</li>
<li>
<p>When the connection between the NativeScript unit test runner and the Karma server is established, the test runner begins the execution of the unit tests.</p>
</li>
<li>
<p>When the execution completes, the NativeScript unit test runner reports the results to the Karma server.</p>
</li>
<li>
<p>The Karma server reports the results on the command line.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="re-run-tests-on-code-change"><a class="anchor" href="#re-run-tests-on-code-change"></a>Re-Run Tests on Code Change</h4>
<div class="paragraph">
<p>The NativeScript can continuously monitor your code for changes and when such changes occur, it can deploy those changes to your testing devices and re-run your tests.</p>
</div>
<div class="paragraph">
<p>To enable this behavior, run your <code>ns test</code> command with the <code>--watch</code> flag. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns test android --watch
ns test ios --watch
ns test ios --emulator --watch</code></pre>
</div>
</div>
<div class="paragraph">
<p>The NativeScript CLI remains active and re-runs tests on code change. To unlock the console, press <code>Ctrl+C</code> to stop the process.</p>
</div>
</div>
<div class="sect3">
<h4 id="configure-the-karma-server"><a class="anchor" href="#configure-the-karma-server"></a>Configure the Karma Server</h4>
<div class="paragraph">
<p>When you configure your project for unit testing, the NativeScript CLI adds <code>karma.conf.js</code> to the root of your project. This file contains the default configuration of the Karma server, including default port and selected testing framework. You can edit this file to customize your Karma server.</p>
</div>
<div class="paragraph">
<p>When you modify <code>karma.conf.js</code>, make sure that your changes meet the specification of the <a href="http://karma-runner.github.io/1.0/intro/configuration.html">Karma Configuration File</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="anchor" href="#continuous-integration"></a>Continuous Integration</h3>
<div class="paragraph">
<p>To integrate the NativeScript unit test runner into a continuous integration process, you need to configure a Karma reporter, for example, the <a href="https://github.com/karma-runner/karma-junit-reporter">JUnit reporter</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-packages"><a class="anchor" href="#using-packages"></a>Using packages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="plugins"><a class="anchor" href="#plugins"></a>Plugins</h3>
<div class="paragraph">
<p>NativeScript plugins are npm packages with some added native functionality. Therefore, finding, installing, and removing NativeScript plugins works a lot like working with npm packages you might use in your Node.js or front-end web development.</p>
</div>
<div class="sect3">
<h4 id="finding-plugins"><a class="anchor" href="#finding-plugins"></a>Finding plugins</h4>
<div class="paragraph">
<p>The NativeScript team maintains an <a href="https://market.nativescript.org/">official marketplace</a>, which displays a filtered list of NativeScript-related plugins from npm. All plugins listed in the marketplace are accompanied by a metadata describing their quality. A search for &#8220;accelerometer&#8221; on the plugins marketplace will point you at the plugin you need.</p>
</div>
<div class="paragraph">
<p>Alternatively, since NativeScript plugins are npm packages, you can find NativeScript plugins on <a href="https://www.npmjs.com/">npm&#8217;s site</a> by searching for &#8220;nativescript-plugin-name&#8221;. For example, a search of &#8220;nativescript accelerometer&#8221; would point you right at the <a href="https://www.npmjs.com/package/nativescript-accelerometer">NativeScript accelerometer plugin</a>.</p>
</div>
<div class="paragraph">
<p>If you can&#8217;t find a plugin, try asking for help on <a href="https://stackoverflow.com/questions/tagged/nativescript">Stack Overflow</a>. The NativeScript team and community may be able to help find what you&#8217;re looking for.</p>
</div>
<div class="paragraph">
<p>Also, make sure to look through the <a href="https://docs.nativescript.org/core-concepts/modules">NativeScript core modules</a>, which ship as a dependency of every NativeScript app. There&#8217;s a chance that the functionality you need is built in. If you&#8217;re still not finding what you need, you can request the plugin as an idea on the <a href="https://discourse.nativescript.org/c/plugins">NativeScript community forum</a>, or you can take a stab at <a href="https://v7.docs.nativescript.org/plugins/building-plugins">building the plugin yourself</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-plugins"><a class="anchor" href="#installing-plugins"></a>Installing Plugins</h4>
<div class="paragraph">
<p>Once you&#8217;ve found the plugin you need, install the plugin into your app using the <code>ns plugin add</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns plugin add &lt;plugin-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, the following command installs the <a href="plugins/camera">NativeScript camera plugin</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns plugin add @nativescript/camera</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead of using <code>plugin add</code>, you can use your package manager as well (npm, yarn, pnpm&#8230;&#8203;):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm install --save @nativescript/camera</code></pre>
</div>
</div>
<div class="paragraph">
<p>The installation of a NativeScript plugin mimics the installation of an npm package. The NativeScript CLI downloads the plugin from npm and adds the plugin to the <code>node_modules</code> folder in the root of your project. During this process, the NativeScript CLI adds the plugin to your project&#8217;s root <code>package.json</code> file and also resolves the plugin&#8217;s dependencies (if any).</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-plugins-as-developer-dependencies"><a class="anchor" href="#installing-plugins-as-developer-dependencies"></a>Installing Plugins as Developer Dependencies</h4>
<div class="paragraph">
<p>As shown above the command <code>ns plugin add @nativescript/camera</code> is actually doing <code>npm i @nativescript/camera --save</code> behind the scenes. If you need to install a <strong>developer dependency</strong> in your project (e.g., like <strong>@nativescript/types</strong> or <strong>@nativescript/webpack</strong>) then you will need to explicitly save it as a <strong>devDependency</strong>. To achieve that, use the <code>npm install</code> command with <code>--save-dev</code> flag. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm i @nativescript/types --save-dev</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Note
The difference between dependencies and developer dependencies is that <strong>dependencies</strong> are required to run, while <strong>devDependencies</strong> are needed only during development. Example for dependency is the <strong>@nativescript/camera</strong> plugin which is required at runtime so you could use the hardware camera. On the other hand, the <strong>@nativescript/types</strong> is a developer dependency required only for intelliSense during the development process. The <code>devDependencies</code> should not be installed as <code>dependencies</code> to avoid large output build files (large application size). Example <code>package.json</code> file using both <code>dependencies</code> and <code>devDependencies</code> can be found <a href="https://github.com/NativeScript/nativescript-sdk-examples-js/blob/master/package.json#L31-L44">here</a>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>==== Importing and Using Plugins</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Once the plugin you need is installed, you can start using it in your project. Note that each plugin might have its configuration that needs to be satisfied so always check carefully the plugin&#8217;s documentation and the README file. The below code snippet demonstrated the basic usage of <strong>@nativescript/camera</strong> plugin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { requestPermissions } from '@nativescript/camera'
requestPermissions()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { requestPermissions } from '@nativescript/camera'
requestPermissions()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="removing-plugins"><a class="anchor" href="#removing-plugins"></a>Removing Plugins</h4>
<div class="paragraph">
<p>To remove a NativeScript plugin from your project, run the following command from your command line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns plugin remove &lt;plugin-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, the following command removes the NativeScript camera plugin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns plugin remove @nativescript/camera</code></pre>
</div>
</div>
<div class="paragraph">
<p>As with installation, the removal of a NativeScript plugin mimics the removal of an npm package.</p>
</div>
<div class="paragraph">
<p>The NativeScript CLI removes any plugin files from your app&#8217;s <code>node_modules</code> folder in the root of your project. The CLI also removes any of the plugin&#8217;s dependencies and also removes the plugin from your project&#8217;s root <code>package.json</code> file.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="package-managers"><a class="anchor" href="#package-managers"></a>Package Managers</h3>
<div class="paragraph">
<p>A package manager is a piece of software that lets you manage the external code, written by you or someone else, that your project needs to work correctly. By default, NativeScript CLI uses Node Package Manager (<code>npm</code>) for managing the dependencies of the application. When new application is created, CLI automatically calls <code>npm install</code> to install all of its dependencies.</p>
</div>
<div class="sect3">
<h4 id="supported-package-managers"><a class="anchor" href="#supported-package-managers"></a>Supported package managers</h4>
<div class="paragraph">
<p>NativeScript CLI allows you to configure the package manager used when working with dependencies. When you change the defaultly used <code>npm</code> package manager, CLI will use the newly set package manager for all operations it executes related to project dependencies, for example, project creation, managing dependencies, etc.</p>
</div>
<div class="paragraph">
<p>NativeScript CLI supports three package managers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>npm</code> - this is the default option</p>
</li>
<li>
<p><code>yarn</code> - you can set it by calling <code>ns package-manager set yarn</code>. More information about <code>yarn</code> is available <a href="https://yarnpkg.com/">here</a></p>
</li>
<li>
<p><code>pnpm</code> - from version 6.4, you can use <code>pnpm</code> to manage the dependencies of your application. You can use <code>pnpm</code> by calling <code>ns package-manager set pnpm</code>. NOTE: You will have to use <code>--shamefully-hoist</code> flag if you call <code>pnpm</code> on your own. CLI passes this flag when installing dependencies with <code>pnpm</code> and probably your application will not work if you omit it. More information about <code>pnpm</code> is available <a href="https://pnpm.js.org/">here</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In case you want to check what is the currently used package manager, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns package-manager get</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="updating"><a class="anchor" href="#updating"></a>Updating</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To upgrade a NativeScript application you need to upgrade several things: NativeScript CLI Tooling, the iOS and Android runtimes and the <code>@nativescript/core</code> module. In the steps below you will see how to do this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm install -g nativescript</code></pre>
</div>
</div>
<h4 id="upgrading-the-application" class="discrete">Upgrading the application</h4>
<div class="paragraph">
<p>You should execute the <strong>update</strong> command in the root folder of your project to upgrade it with the latest versions of iOS/Android runtimes and cross-platform modules.</p>
</div>
<div class="paragraph">
<p>:::tip Note</p>
</div>
<div class="paragraph">
<p>The <strong>update</strong> command is introduced in version 2.4 of NativeScript CLI. You should update NativeScript CLI before using this command.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns update</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to get the latest development release instead, pass <strong>next</strong> as argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns update next</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also switch to specific version by passing it to the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns update 8.0.0</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>tip Note
The command <code>ns update</code> is updating the <code>@nativescript/core</code>, <code>@nativescript/webpack</code>, and the runtimes (<code>@nativescript/android</code>and<code>@nativescript/ios</code>). The command is combining the next three commands in this article (<code>ns platform add</code>, <code>npm i --save @nativescript/core</code>and<code>npm i @nativescript/webpack --save-dev</code>).</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>warning Important
When using the <code>--configs</code> flag, any previous configuration will be overwritten and lost. Consider saving any custom code that you have introduced in your <code>webpack.config.js</code> and reapplying the code after using the <code>--configs</code> flag.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<h4 id="upgrading-platforms" class="discrete">Upgrading platforms</h4>
<div class="paragraph">
<p>Follow those steps in order to get the latest versions of Android and/or iOS runtimes. Navigate to the root level folder where your project is, and then if you are working on a Android project, type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns platform remove android
ns platform add android</code></pre>
</div>
</div>
<div class="paragraph">
<p>and/or (if you are working on a iOS version on a Mac):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns platform remove ios
ns platform add ios</code></pre>
</div>
</div>
<h4 id="upgrading-nativescriptcore" class="discrete">Upgrading @nativescript/core</h4>
<div class="paragraph">
<p>The cross-platform modules are available as a npm package named <a href="https://www.npmjs.com/package/@nativescript/core">@nativescript/core</a>.</p>
</div>
<div class="paragraph">
<p>In order to use them in your project, you will have to explicitly install the package, for example (assuming you are still in your main app project folder from the steps above):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm install @nativescript/core@latest --save</code></pre>
</div>
</div>
<div class="paragraph">
<p>This installs the <strong>@nativescript/core</strong> package to the node_modules folder and adds it as a dependency to the package.json of the project.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>warning Important
The <code>ns create</code> command will create a new project, add the <strong>@nativescript/core</strong> package as a dependency to its package.json and install it. So each new project you create will have the <strong>@nativescript/core</strong> package installed and you do not have to install it explicitly.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">:</dt>
<dd>
<p>Another place to find <strong>@nativescript/core</strong> package is <a href="https://github.com/NativeScript/NativeScript/releases/">NativeScript Releases</a>, where you can find a collection of the available @nativescript/core-<strong>.tgz packages for every release. You can download a selected release and install it by running: <code>npm install &lt;path to @nativescript/core-</strong>.tgz&gt; --save</code>.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<h4 id="upgrading-angular-dependencies" class="discrete">Upgrading Angular dependencies</h4>
<div class="paragraph">
<p>The Angular plugin is available as an npm package named <a href="https://www.npmjs.com/package/@nativescript/angular">@nativescript/angular</a>. To update the version of the plugin and the related dependency, the package should be explicitly installed, and the related Angular dependencies should be updated accordingly. To ease the update process, the plugin comes with an automated script <code>update-app-ng-deps</code> located in <code>&lt;project-folder/node_modules/.bin&gt;</code> folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm i @nativescript/angular@latest --save
./node_modules/.bin/update-app-ng-deps
npm i</code></pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>title: Running Latest Code
description: NativeScript Documentation - Running Latest Code
position: 40
slug: latest-code
previous_url: /running-latest</p>
</div>
<hr>
<h4 id="running-the-latest-code" class="discrete">Running the Latest Code</h4>
<div class="paragraph">
<p>Often when working with open-source projects, one needs functionality that has not yet passed the full release cycle, or even functionality that is not yet fully implemented. We know that many of you are experimenters and want to try the latest and greatest features of NativeScript. That is why we tried to make this process simple and easy to follow. There are two ways to get the latest development code for NativeScript:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can get it via npm.</p>
</li>
<li>
<p>You can build the source code.</p>
</li>
</ul>
</div>
<h4 id="getting-the-latest-development-version-via-npm" class="discrete">Getting the latest development version via npm</h4>
<div class="paragraph">
<p>As an open-source project NativeScript keeps not only its source code but its build infrastructure open. That is why we choose <a href="https://travis-ci.org/">Travis CI</a> for our nightly builds. Every commit in the master branch of all major NativeScript repos triggers a <a href="https://travis-ci.org/">Travis CI</a> build which publishes an npm package that can be used directly. Follow those simple steps to get the latest development version of NativeScript:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uninstall any existing NativeScript versions:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm uninstall -g nativescript</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Install the latest development version of NativeScript CLI:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm install -g nativescript@next</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Edit the package.json file in your project and replace @nativescript/core, @nativescript/android and @nativescript/ios versions with <code>next</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "description": "NativeScript Application",
  "dependencies": {
    "@nativescript/core": "next"
  },
  "devDependencies": {
    "@nativescript/android": "next",
    "@nativescript/ios": "next"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead of editing the package.json file by hand, you could run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns platform add ios@next
ns platform add android@next
ns plugin add @nativescript/core@next</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Run the <code>npm install</code> command to update the node modules:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">cd &lt;your-project-folder&gt;
npm install</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are now ready to use the latest development version of NativeScript.</p>
</div>
<h4 id="building-the-source-code" class="discrete">Building the source code</h4>
<h5 id="reasoning" class="discrete">Reasoning</h5>
<div class="paragraph">
<p>Building the source code is essential when one wants to contribute to an open source project. The statement is applicable for NativeScript as well. According to the <a href="https://github.com/NativeScript/NativeScript/blob/master/tools/notes/CONTRIBUTING.md">Contribution Guidelines</a>, suggesting a fix involves testing the latest code.</p>
</div>
<h4 id="behind-the-curtains-of-running-a-nativescript-application" class="discrete">Behind the curtains of running a NativeScript application</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>npm install nativescript -g</code> : Node Package Manager (npm) downloads and installs the <a href="https://www.npmjs.com/package/nativescript">NativeScript CLI</a>.</p>
</li>
<li>
<p><code>ns create [AppName]</code> : The NativeScript CLI downloads the <a href="https://www.npmjs.com/package/@nativescript/template-hello-world">Hello-World template</a> and unpacks it to a folder named after the app name you choose. At the same time, the CLI installs the <a href="https://www.npmjs.com/package/@nativescript/core">NativeScript cross-platform modules</a>. As a result, your application folder now contains an <code>app</code> folder, holding the files of your application (<a href="https://github.com/NativeScript/nativescript-app-templates/tree/master/packages/template-hello-world">source code</a>) and a <code>node_modules</code> folder, having the cross-platform modules (<a href="https://github.com/NativeScript/NativeScript">source code</a>).</p>
</li>
<li>
<p><code>ns platform add android/ios</code> : The NativeScript CLI downloads the latest SemVer-compatible version of the specified runtime, unpacks it and applies transformations to the native (Android Studio or xCode) project (e.g., changes the project name).</p>
</li>
<li>
<p><code>ns run android/ios</code> : The NativeScript CLI copies the files under the <code>app</code> folder to the <code>platforms/[android/ios]/.../app</code> folder following a specific logic so that these get used later by a native build tool (<em>gradle</em>/<em>xcode-build</em>). As a next step, the NativeScript CLI executes compilation, deployment and run commands of <em>gradle</em> or <em>xcode-build</em>.</p>
</li>
<li>
<p>Any JavaScript code gets executed in a V8 or JavaScriptCore engine and embedded in the NativeScript runtimes. Each call to an actual native object gets marshalled via the runtimes to the underlying platform and vice-versa. The runtimes provide JavaScript handles to the native objects.</p>
</li>
</ol>
</div>
<h4 id="contents-of-the-nativescript-repo" class="discrete">Contents of the NativeScript repo</h4>
<div class="paragraph">
<p>The <a href="https://github.com/NativeScript/NativeScript">NativeScript framework</a> is built using TypeScript. For that, one of the build steps is TypeScript compilation, which uses TypeScript declarations of the underlying native objects. These are really large files (<a href="https://github.com/NativeScript/NativeScript/blob/master/packages/types-android/src/lib/android-17.d.ts">android17.d.ts</a> and <a href="https://github.com/NativeScript/NativeScript/blob/master/packages/types-ios/src/lib/ios/ios.d.ts">ios.d.ts</a>). The TypeScript compilation with these two files loaded in memory takes a lot of time. To save development time and have as quick and stable feature output, the NativeScript team decided to keep several important applications inside the same repository so that all of them get compiled in a single pass.</p>
</div>
<div class="paragraph">
<p>Having said that, each subfolder of the <a href="https://github.com/NativeScript/NativeScript/tree/master/apps">apps</a> subfolder of the repo represents a single application.</p>
</div>
<h4 id="building-the-repo" class="discrete">Building the repo</h4>
<div class="paragraph">
<p>When the repo gets built, it outputs a bunch of packages (stripping the version- and extension- part of the filename for clarity):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>@nativescript/core : the package, containing the core modules. It gets distributed via <a href="https://www.npmjs.com/package/@nativescript/core">npm</a>.</p>
</li>
<li>
<p>tns-sample-* : contains some test/demo applications the team uses internally for testing.</p>
</li>
<li>
<p>tns-template-* : has templates that will get used once we have the <a href="https://github.com/NativeScript/nativescript-cli/issues/374">template-selection functionality</a> implemented in the command-line interface.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The repo gets built via the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">npm install -g grunt-cli
npm install
grunt</code></pre>
</div>
</div>
<h4 id="using-the-latest" class="discrete">Using the latest</h4>
<div class="paragraph">
<p>To use the latest:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Build the repo.</p>
</li>
<li>
<p>Navigate to your project folder.</p>
</li>
<li>
<p>Delete the <code>@nativescript/core</code> folder from the <code>node_modules</code> subfolder of your project (i.e., <code>rm -rf node_modules/@nativescript/core</code> for Linux or <code>rd /S /Q node_modules\@nativescript/core</code>).</p>
</li>
<li>
<p>Install the newly built package (<code>npm install [PATH-TO-NATIVESCRIPT-REPO/bin/dist/nativescript-core-x.x.x.tgz]</code>).</p>
</li>
</ul>
</div>
<h4 id="handling-internal-breaking-changes" class="discrete">Handling internal breaking changes</h4>
<div class="paragraph">
<p>It is possible that an internal breaking change gets introduced involving an update to both the runtimes and the modules. An internal breaking change would mean that the public API of the tns_modules does not get affected, but a work in progress change in the runtimes requires a change in the internal code of the tns_modules themselves.</p>
</div>
<div class="paragraph">
<p>When such a case happens, the <a href="https://github.com/NativeScript/ns-v8ios-runtime">ios</a> and <a href="https://github.com/NativeScript/android-runtime">android</a> runtimes must be built separately and updated via the CLI command of:
<code>ns platform update android/ios --frameworkPath=[Path-to-Runtime-Package]</code></p>
</div>
<h4 id="building-the-runtimes" class="discrete">Building the runtimes</h4>
<div class="paragraph">
<p>As the NativeScript framework gets distributed via npm, the runtimes are also packed as npm packages. For consistency reasons, the native builds (gradle/xcode-build) are wrapped by grunt builds that do the job.</p>
</div>
<h4 id="building-the-android-runtime" class="discrete">Building the Android runtime</h4>
<div class="paragraph">
<p>The <a href="https://github.com/NativeScript/android-runtime">android runtime</a> depends on the <a href="https://github.com/NativeScript/android-metadata-generator">android-metadata-generator</a>.</p>
</div>
<div class="paragraph">
<p>Provided you have all the dependencies set, the easiest way to have the Android runtime built is to clone the two repos to a single folder so that the two are sibling folders, <code>cd</code> into the <code>android-runtime</code> folder and run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">gradle packar -PwidgetsPath=./widgets.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting @nativescript/android-x.x.x.tgz package will get created in the <code>dist</code> folder.</p>
</div>
<h4 id="building-the-ios-runtime" class="discrete">Building the iOS runtime</h4>
<div class="paragraph">
<p>Follow the instructions on setting up the dependencies for building the <a href="https://github.com/NativeScript/ns-v8ios-runtime">ios runtime</a> in the repository README and then run <code>grunt package</code>.</p>
</div>
<div class="paragraph">
<p>The build @nativescript/ios-x.x.x.tgx package will get created in the <code>dist</code> folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="choosing-an-editor"><a class="anchor" href="#choosing-an-editor"></a>Choosing An Editor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can develop NativeScript apps in any text editor or IDE you prefer.</p>
</div>
<h4 id="vs-code" class="discrete">VS Code</h4>
<div class="paragraph">
<p>Most of the NativeScript team prefers to use <a href="https://code.visualstudio.com/">VS Code from Microsoft</a> as their editor for NativeScript apps. Some reasons we use VS Code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Visual Studio Code has excellent support for <a href="https://www.typescriptlang.org/">TypeScript</a>.</p>
</li>
<li>
<p>Visual Studio Code gives you the ability to debug JavaScript and TypeScript code directly in your editor. The NativeScript team maintains an official <a href="https://marketplace.visualstudio.com/items?itemName=NativeScript.nativescript">NativeScript Visual Studio Code extension</a> that enables step debugging for NativeScript apps.</p>
</li>
<li>
<p>Visual Studio Code is a fast, modern editor that Microsoft <a href="https://code.visualstudio.com/updates/">updates frequently</a>.</p>
</li>
<li>
<p>Visual Studio Code is available for Windows, macOS, and Linux.</p>
</li>
<li>
<p>Microsoft backs Visual Studio Code; therefore, you can feel confident that the editor will continue to be supported in the future.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you do choose to <a href="https://code.visualstudio.com/">try Visual Studio Code</a>, let&#8217;s look at one tip you might find useful as you develop NativeScript apps.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>code</code> command</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After you install Visual Studio Code, you can open projects using the editor&#8217;s <code>File</code> → <code>Open</code> menu option, but there&#8217;s an alternative option that works far better for command-line-based projects like NativeScript: the <code>code</code> command.</p>
</div>
<div class="paragraph">
<p>The <code>code</code> command runs in your command-line or terminal, and it works just like the <code>ns</code> command does for NativeScript apps. Visual Studio Code installs the <code>code</code> command by default on Windows on Linux, but on macOS, there&#8217;s <a href="https://code.visualstudio.com/docs/setup/mac">one manual step</a> you must perform.</p>
</div>
<div class="paragraph">
<p>Once set up, you can type <code>code .</code> in your terminal to open the files in your current folder for editing. For example, you could use the following sequence of command to create a new NativeScript app and open it for editing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cli hljs" data-lang="cli">ns create MyNewApp
cd MyNewApp
code .</code></pre>
</div>
</div>
<h4 id="webstorm" class="discrete">WebStorm</h4>
<div class="paragraph">
<p>If you&#8217;re a WebStorm user, check out this <a href="https://plugins.jetbrains.com/webstorm/plugin/8588-nativescript">popular community-written plugin</a> that adds many NativeScript-related features.</p>
</div>
<h4 id="next-steps" class="discrete">Next steps</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://market.nativescript.org/?tab=samples&amp;framework=all_frameworks&amp;category=all_samples">Code Samples</a></p>
<div class="ulist">
<ul>
<li>
<p>The NativeScript team provides a collection of high-quality code samples you can add to your applications. Perusing the code samples is a great way to get familiar with what NativeScript can do, as well as find the code you can use on your next app.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.nativescript.org/books-and-videos">Books and Videos</a></p>
<div class="ulist">
<ul>
<li>
<p>Browse our collection of NativeScript books and videos, including the free-to-download NativeScript book by Nick and Mike Brainstein.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://nativescripting.com/">NativeScripting</a></p>
<div class="ulist">
<ul>
<li>
<p>The third-party NativeScripting site has many video courses to teach you everything you need to know about NativeScript, including a collection of free courses to help you get started.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="environment-setup.html">Environment Setup</a></span>
  <span class="next"><a href="understanding-packages.html">Understanding @nativescript</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <p>© 2022 OpenJS Foundation</p>
    <div class="community_icons">
        <a href="https://nativescript.org/discord" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
        <a href="https://twitter.com/NativeScript" title="Twitter" target="_blank" class="footer_icon icon-discourse"><p>Twitter</p></a>
        <a href="https://github.com/NativeScript/NativeScript" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../_/js/vendor/swagger-ui.js"></script>
<script async src="../_/js/vendor/component-versions.js"></script>
<script src="../_/js/vendor/custom.js"></script>
  </body>
</html>
